(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/hk/confirmOrder/confirmOrder"],{"21a1":function(t,e,n){"use strict";(function(t){var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("9523")),r=a(n("9671"));function o(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var u={data:function(){return(0,i.default)({weight:1,height:10,width:10,length:10,chooseName:"",getId:"",sendId:"",latitude:0,longitude:0,markers:[],polyline:[{points:[]}],distanceStr:"",expectFinishMin:"",list:[{show:!1,price:"0.0",brandStr:"闪送",thumb:"https://market-to-home.oss-accelerate.aliyuncs.com/image/20240428173541856-8762-1.png"},{show:!1,price:"0.0",brandStr:"美团配送",thumb:"https://market-to-home.oss-accelerate.aliyuncs.com/image/20240428173604234-4667-1.png"},{show:!1,price:"0.0",brandStr:"蜂鸟配送",thumb:"https://market-to-home.oss-accelerate.aliyuncs.com/image/20240428173618386-1542-1.png"},{show:!1,price:"0.0",brandStr:"顺丰同城",thumb:"https://market-to-home.oss-accelerate.aliyuncs.com/image/20240428173630071-2143-1.png"},{show:!1,price:"0.0",brandStr:"UU跑腿",thumb:"https://market-to-home.oss-accelerate.aliyuncs.com/image/20240428173643268-8703-1.png"},{show:!1,price:"0.0",brandStr:"爱跑腿",thumb:"https://market-to-home.oss-accelerate.aliyuncs.com/image/20240428173656147-1828-1.png"}],marker:"",brandStr:"",amount:""},"distanceStr","")},onLoad:function(t){this.getId=t.getId,this.sendId=t.sendId,this.width=t.width,this.height=t.height,this.length=t.length,this.weight=t.weight,this.chooseName=t.chooseName},onReady:function(){var e=this;this.mapContext=t.createMapContext("map",this);var n=this;r.default.request("/address/"+this.getId,"GET",null,!0,!1,!0).then((function(t){console.log(t),200==t.code&&(e.latitude=t.data.latitude,e.longitude=t.data.longitude,e.markers.push({id:0,latitude:t.data.latitude,longitude:t.data.longitude,title:"取",iconPath:"/static/location.png",with:"30",height:"30"}),r.default.request("/address/"+e.sendId,"GET",null,!0,!1,!0).then((function(t){n.markers.push({id:1,latitude:t.data.latitude,longitude:t.data.longitude,title:"收",iconPath:"/static/location.png",with:"30",height:"30"}),n.mapContext.includePoints({padding:[80,50,80,50],points:n.markers}),n.polyline[0].color="#41a863",n.polyline[0].dottedLine=!0,n.polyline[0].width=5,n.polyline[0].points.push({latitude:n.markers[0].latitude,longitude:n.markers[0].longitude},{latitude:t.data.latitude,longitude:t.data.longitude})})))})),r.default.request("/judanke/getQuotation","POST",{senderAddressId:this.getId,deliveryAddressId:this.sendId},!0,!1,!0).then((function(t){if(200==t.code){e.distanceStr=t.data.distanceStr,e.expectFinishMin=t.data.expectFinishMin,e.amount=t.data.amount,e.distanceStr=t.data.distanceStr;var n,a=o(e.list);try{for(a.s();!(n=a.n()).done;){var i,r=n.value,s=o(t.data.list);try{for(s.s();!(i=s.n()).done;){var u=i.value;r.brandStr==u.brandStr&&(r.show=!0,r.price=e.js(u.totalFee))}}catch(d){s.e(d)}finally{s.f()}}}catch(d){a.e(d)}finally{a.f()}console.log(e.list)}}))},methods:{toMarke:function(){t.navigateTo({url:"/pages/hk/marke/marke"})},getMarker:function(t){this.marker=t},choosePt:function(t){console.log(t),this.brandStr="（"+t.brandStr+"）",this.amount=t.price},js:function(t){return console.log(t),(t/100).toFixed(1)},submit:function(){r.default.request("/order/add","POST",{length:this.length,width:this.width,height:this.height,note:this.marker,weight:this.weight,sumAmount:this.amount,actuallyAmount:this.amount,senderAddressId:this.getId,deliveryAddressId:this.sendId},!0,!1,!0).then((function(t){200==t.code&&console.log(t)}))}}};e.default=u}).call(this,n("543d")["default"])},3176:function(t,e,n){"use strict";n.r(e);var a=n("e4a9"),i=n("c329");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("7984");var o=n("f0c5"),s=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=s.exports},7984:function(t,e,n){"use strict";var a=n("d53e"),i=n.n(a);i.a},9364:function(t,e,n){"use strict";(function(t,e){var a=n("4ea4");n("7e9c"),n("a9ff");a(n("66fd"));var i=a(n("3176"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},c329:function(t,e,n){"use strict";n.r(e);var a=n("21a1"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},d53e:function(t,e,n){},e4a9:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var a={uScrollList:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-scroll-list/u-scroll-list")]).then(n.bind(null,"99bf"))}},i=function(){var t=this.$createElement;this._self._c},r=[]}},[["9364","common/runtime","common/vendor"]]]);